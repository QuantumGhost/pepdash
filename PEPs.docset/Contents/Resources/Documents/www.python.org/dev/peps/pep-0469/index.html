<!doctype html>
<!--[if lt IE 7]>   <html class="no-js ie6 lt-ie7 lt-ie8 lt-ie9">   <![endif]-->
<!--[if IE 7]>      <html class="no-js ie7 lt-ie8 lt-ie9">          <![endif]-->
<!--[if IE 8]>      <html class="no-js ie8 lt-ie9">                 <![endif]-->
<!--[if gt IE 8]><!--><html class="no-js" lang="en" dir="ltr">  <!--<![endif]-->


<!-- Mirrored from www.python.org/dev/peps/pep-0469/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 03 Sep 2015 04:38:19 GMT -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <link rel="prefetch" href="../../../../ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js">

    <meta name="application-name" content="Python.org">
    <meta name="msapplication-tooltip" content="The official home of the Python Programming Language">
    <meta name="apple-mobile-web-app-title" content="Python.org">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="HandheldFriendly" content="True">
    <meta name="format-detection" content="telephone=no">
    <meta http-equiv="cleartype" content="on">
    <meta http-equiv="imagetoolbar" content="false">

    <script src="../../../static/js/libs/modernizr.js"></script>

    <link href="../../../static/stylesheets/style.css" rel="stylesheet" type="text/css" title="default" />
    <link href="../../../static/stylesheets/mq.css" rel="stylesheet" type="text/css" media="not print, braille, embossed, speech, tty" />
    

    <!--[if (lte IE 8)&(!IEMobile)]>
    <link href="/static/stylesheets/no-mq.css" rel="stylesheet" type="text/css" media="screen" />
    
    
    <![endif]-->

    
    <link rel="icon" type="image/x-icon" href="https://www.python.org/static/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../static/apple-touch-icon-144x144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../../static/apple-touch-icon-114x114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../../static/apple-touch-icon-72x72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../../../static/apple-touch-icon-precomposed.png">
    <link rel="apple-touch-icon" href="../../../static/apple-touch-icon-precomposed.png">

    
    <meta name="msapplication-TileImage" content="/static/metro-icon-144x144-precomposed.png"><!-- white shape -->
    <meta name="msapplication-TileColor" content="#3673a5"><!-- python blue -->
    <meta name="msapplication-navbutton-color" content="#3673a5">

    <meta property="og:site_name" content="Python.org">
    <meta property="og:type" content="website">

    <title>PEP 0469 -- Migration of dict iteration code to Python 3 | Python.org</title>
    <meta property="og:title" content="Welcome to Python.org">

    
    <meta name="description" content="The official home of the Python Programming Language">
    <meta name="og:description" content="The official home of the Python Programming Language">
    <meta name="keywords" content="Python programming language object oriented web free open source software license documentation download community">
    <meta property="og:tag" content="Python programming language object oriented web free open source software license documentation download community">
    <meta property="og:published_time" content="">
    <meta property="og:modified_time" content="">
    <meta property="og:author" content="">
    <meta property="og:section" content=""> 
    <meta property="og:url" content="">
    <meta property="og:image" content="">
    <meta property="og:video" content="">

    <link rel="author" href="https://www.python.org/static/humans.txt">

    

    
    <script type="application/ld+json">
     {
       "@context": "http://schema.org",
       "@type": "WebSite",
       "url": "https://www.python.org/",
       "potentialAction": {
         "@type": "SearchAction",
         "target": "https://www.python.org/search/?q={search_term_string}",
         "query-input": "required name=search_term_string"
       }
     }
    </script>

    
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-39055973-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
    
</head>

<body class="python pages pep-page">

    <div id="touchnav-wrapper">

        <div id="nojs" class="do-not-print">
            <p><strong>Notice:</strong> While Javascript is not essential for this website, your interaction with the content will be limited. Please turn Javascript on for the full experience. </p>
        </div>

        <!--[if lt IE 8]>
        <div id="oldie-warning" class="do-not-print">
            <p><strong>Notice:</strong> Your browser is <em>ancient</em> and <a href="http://www.ie6countdown.com/">Microsoft agrees</a>. <a href="http://browsehappy.com/">Upgrade to a different browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience a better web.</p>
        </div>
        <![endif]-->

        <!-- Sister Site Links -->
        <div id="top" class="top-bar do-not-print">

            <nav class="meta-navigation container" role="navigation">

                
                <div class="skip-link screen-reader-text">
                    <a href="#content" title="Skip to content">Skip to content</a>
                </div>

                
                <a id="close-python-network" class="jump-link" href="#python-network" aria-hidden="true">
                    <span aria-hidden="true" class="icon-arrow-down"><span>&#9660;</span></span> Close
                </a>

                

<ul class="menu" role="tree">
    
    <li class="python-meta ">
        <a href="https://www.python.org/" title="The Python Programming Language" >Python</a>
    </li>
    
    <li class="psf-meta ">
        <a href="https://www.python.org/psf-landing/" title="The Python Software Foundation" >PSF</a>
    </li>
    
    <li class="docs-meta ">
        <a href="https://docs.python.org/" title="Python Documentation" >Docs</a>
    </li>
    
    <li class="pypi-meta ">
        <a href="https://pypi.python.org/" title="Python Package Index" >PyPI</a>
    </li>
    
    <li class="jobs-meta ">
        <a href="https://www.python.org/jobs/" title="Python Job Board" >Jobs</a>
    </li>
    
    <li class="shop-meta ">
        <a href="https://www.python.org/community/" title="Python Community" >Community</a>
    </li>
    
</ul>


                <a id="python-network" class="jump-link" href="#top" aria-hidden="true">
                    <span aria-hidden="true" class="icon-arrow-up"><span>&#9650;</span></span> The Python Network
                </a>

            </nav>

        </div>

        <!-- Header elements -->
        <header class="main-header" role="banner">
            <div class="container">

                <h1 class="site-headline">
                    <a href="https://www.python.org/"><img class="python-logo" src="../../../static/img/python-logo.png" alt="python&trade;"></a>
                </h1>

                <div class="options-bar do-not-print">

                    
                    <a id="site-map-link" class="jump-to-menu" href="#site-map"><span class="menu-icon">&equiv;</span> Menu</a><form class="search-the-site" action="https://www.python.org/search/" method="get">
                        <fieldset title="Search Python.org">

                            <span aria-hidden="true" class="icon-search"></span>

                            <label class="screen-reader-text" for="id-search-field">Search This Site</label>
                            <input id="id-search-field" name="q" type="search" role="textbox" class="search-field" placeholder="Search" value="" tabindex="1">

                            <button type="submit" name="submit" id="submit" class="search-button" title="Submit this Search" tabindex="3">
                                GO
                            </button>

                            
                            <!--[if IE]><input type="text" style="display: none;" disabled="disabled" size="1" tabindex="4"><![endif]-->

                        </fieldset>
                    </form><span class="breaker"></span><div class="adjust-font-size" aria-hidden="true">
                        <ul class="navigation menu" aria-label="Adjust Text Size on Page">
                            <li class="tier-1 last" aria-haspopup="true">
                                <a href="#" class="action-trigger"><strong><small>A</small> A</strong></a>
                                <ul class="subnav menu">
                                    <li class="tier-2 element-1" role="treeitem"><a class="text-shrink" title="Make Text Smaller" href="javascript:;">Smaller</a></li>
                                    <li class="tier-2 element-2" role="treeitem"><a class="text-grow" title="Make Text Larger" href="javascript:;">Larger</a></li>
                                    <li class="tier-2 element-3" role="treeitem"><a class="text-reset" title="Reset any font size changes I have made" href="javascript:;">Reset</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div><div class="winkwink-nudgenudge">
                        <ul class="navigation menu" aria-label="Social Media Navigation">
                            <li class="tier-1 last" aria-haspopup="true">
                                <a href="#" class="action-trigger">Socialize</a>
                                <ul class="subnav menu">
                                    <li class="tier-2 element-1" role="treeitem"><a href="http://plus.google.com/+Python"><span aria-hidden="true" class="icon-google-plus"></span>Google+</a></li>
                                    <li class="tier-2 element-2" role="treeitem"><a href="http://www.facebook.com/pythonlang?fref=ts"><span aria-hidden="true" class="icon-facebook"></span>Facebook</a></li>
                                    <li class="tier-2 element-3" role="treeitem"><a href="http://twitter.com/ThePSF"><span aria-hidden="true" class="icon-twitter"></span>Twitter</a></li>
                                    <li class="tier-2 element-4" role="treeitem"><a href="https://www.python.org/community/irc/"><span aria-hidden="true" class="icon-freenode"></span>Chat on IRC</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div><div class="account-signin">
                        <ul class="navigation menu" aria-label="Social Media Navigation">
                            <li class="tier-1 last" aria-haspopup="true">
                                
                                <a href="https://www.python.org/accounts/login/" title="Sign Up or Sign In to Python.org">Sign In</a>
                                <ul class="subnav menu">
                                    <li class="tier-2 element-1" role="treeitem"><a href="https://www.python.org/accounts/signup/">Sign Up / Register</a></li>
                                    <li class="tier-2 element-2" role="treeitem"><a href="https://www.python.org/accounts/login/">Sign In</a></li>
                                </ul>
                                
                            </li>
                        </ul>
                    </div>

                </div><!-- end options-bar -->

                <nav id="mainnav" class="python-navigation main-navigation do-not-print" role="navigation">
                    
                        
<ul class="navigation menu" role="menubar" aria-label="Main Navigation">
  
    
    
    <li id="about" class="tier-1 element-1  " aria-haspopup="true">
        <a href="https://www.python.org/about/" title="" class="">About</a>
        
            

<ul class="subnav menu" role="menu" aria-hidden="true">
    
        <li class="tier-2 element-1" role="treeitem"><a href="https://www.python.org/about/apps/" title="">Applications</a></li>
    
        <li class="tier-2 element-2" role="treeitem"><a href="https://www.python.org/about/quotes/" title="">Quotes</a></li>
    
        <li class="tier-2 element-3" role="treeitem"><a href="https://www.python.org/about/gettingstarted/" title="">Getting Started</a></li>
    
        <li class="tier-2 element-4" role="treeitem"><a href="https://www.python.org/about/help/" title="">Help</a></li>
    
</ul>

        
    </li>
    
    
    
    <li id="downloads" class="tier-1 element-2  " aria-haspopup="true">
        <a href="https://www.python.org/downloads/" title="" class="">Downloads</a>
        
            

<ul class="subnav menu" role="menu" aria-hidden="true">
    
        <li class="tier-2 element-1" role="treeitem"><a href="https://www.python.org/downloads/" title="">All releases</a></li>
    
        <li class="tier-2 element-2" role="treeitem"><a href="https://www.python.org/downloads/source/" title="">Source code</a></li>
    
        <li class="tier-2 element-3" role="treeitem"><a href="https://www.python.org/downloads/windows/" title="">Windows</a></li>
    
        <li class="tier-2 element-4" role="treeitem"><a href="https://www.python.org/downloads/mac-osx/" title="">Mac OS X</a></li>
    
        <li class="tier-2 element-5" role="treeitem"><a href="https://www.python.org/download/other/" title="">Other Platforms</a></li>
    
        <li class="tier-2 element-6" role="treeitem"><a href="https://docs.python.org/3/license.html" title="">License</a></li>
    
        <li class="tier-2 element-7" role="treeitem"><a href="https://www.python.org/download/alternatives" title="">Alternative Implementations</a></li>
    
</ul>

        
    </li>
    
    
    
    <li id="documentation" class="tier-1 element-3  " aria-haspopup="true">
        <a href="https://www.python.org/doc/" title="" class="">Documentation</a>
        
            

<ul class="subnav menu" role="menu" aria-hidden="true">
    
        <li class="tier-2 element-1" role="treeitem"><a href="https://www.python.org/doc/" title="">Docs</a></li>
    
        <li class="tier-2 element-2" role="treeitem"><a href="https://www.python.org/doc/av" title="">Audio/Visual Talks</a></li>
    
        <li class="tier-2 element-3" role="treeitem"><a href="https://wiki.python.org/moin/BeginnersGuide" title="">Beginner&#39;s Guide</a></li>
    
        <li class="tier-2 element-4" role="treeitem"><a href="https://docs.python.org/devguide/" title="">Developer&#39;s Guide</a></li>
    
        <li class="tier-2 element-5" role="treeitem"><a href="https://docs.python.org/faq/" title="">FAQ</a></li>
    
        <li class="tier-2 element-6" role="treeitem"><a href="http://wiki.python.org/moin/Languages" title="">Non-English Docs</a></li>
    
        <li class="tier-2 element-7" role="treeitem"><a href="../index.html" title="">PEP Index</a></li>
    
        <li class="tier-2 element-8" role="treeitem"><a href="https://wiki.python.org/moin/PythonBooks" title="">Python Books</a></li>
    
</ul>

        
    </li>
    
    
    
    <li id="community" class="tier-1 element-4  " aria-haspopup="true">
        <a href="https://www.python.org/community/" title="" class="">Community</a>
        
            

<ul class="subnav menu" role="menu" aria-hidden="true">
    
        <li class="tier-2 element-1" role="treeitem"><a href="https://www.python.org/community/diversity/" title="">Diversity</a></li>
    
        <li class="tier-2 element-2" role="treeitem"><a href="https://www.python.org/community/irc/" title="">IRC</a></li>
    
        <li class="tier-2 element-3" role="treeitem"><a href="https://www.python.org/community/lists/" title="">Mailing Lists</a></li>
    
        <li class="tier-2 element-4" role="treeitem"><a href="https://www.python.org/community/workshops/" title="">Python Conferences</a></li>
    
        <li class="tier-2 element-5" role="treeitem"><a href="https://www.python.org/community/sigs/" title="">Special Interest Groups</a></li>
    
        <li class="tier-2 element-6" role="treeitem"><a href="https://wiki.python.org/moin/" title="">Python Wiki</a></li>
    
        <li class="tier-2 element-7" role="treeitem"><a href="https://www.python.org/community/logos/" title="">Python Logo</a></li>
    
        <li class="tier-2 element-8" role="treeitem"><a href="https://www.python.org/community/merchandise/" title="">Merchandise</a></li>
    
        <li class="tier-2 element-9" role="treeitem"><a href="https://www.python.org/community/awards" title="">Community Awards</a></li>
    
</ul>

        
    </li>
    
    
    
    <li id="success-stories" class="tier-1 element-5  " aria-haspopup="true">
        <a href="https://www.python.org/about/success/" title="success-stories" class="">Success Stories</a>
        
            

<ul class="subnav menu" role="menu" aria-hidden="true">
    
        <li class="tier-2 element-1" role="treeitem"><a href="https://www.python.org/about/success/#arts" title="">Arts</a></li>
    
        <li class="tier-2 element-2" role="treeitem"><a href="https://www.python.org/about/success/#business" title="">Business</a></li>
    
        <li class="tier-2 element-3" role="treeitem"><a href="https://www.python.org/about/success/#education" title="">Education</a></li>
    
        <li class="tier-2 element-4" role="treeitem"><a href="https://www.python.org/about/success/#engineering" title="">Engineering</a></li>
    
        <li class="tier-2 element-5" role="treeitem"><a href="https://www.python.org/about/success/#government" title="">Government</a></li>
    
        <li class="tier-2 element-6" role="treeitem"><a href="https://www.python.org/about/success/#scientific" title="">Scientific</a></li>
    
        <li class="tier-2 element-7" role="treeitem"><a href="https://www.python.org/about/success/#software-development" title="">Software Development</a></li>
    
</ul>

        
    </li>
    
    
    
    <li id="news" class="tier-1 element-6  " aria-haspopup="true">
        <a href="https://www.python.org/blogs/" title="News from around the Python world" class="">News</a>
        
            

<ul class="subnav menu" role="menu" aria-hidden="true">
    
        <li class="tier-2 element-1" role="treeitem"><a href="https://www.python.org/blogs/" title="Python Insider Blog Posts">Python News</a></li>
    
        <li class="tier-2 element-2" role="treeitem"><a href="http://planetpython.org/" title="Planet Python">Community News</a></li>
    
        <li class="tier-2 element-3" role="treeitem"><a href="http://pyfound.blogspot.com/" title="PSF Blog">PSF News</a></li>
    
        <li class="tier-2 element-4" role="treeitem"><a href="http://pycon.blogspot.com/" title="PyCon Blog">PyCon News</a></li>
    
</ul>

        
    </li>
    
    
    
    <li id="events" class="tier-1 element-7  " aria-haspopup="true">
        <a href="https://www.python.org/events/" title="" class="">Events</a>
        
            

<ul class="subnav menu" role="menu" aria-hidden="true">
    
        <li class="tier-2 element-1" role="treeitem"><a href="https://www.python.org/events/python-events/" title="">Python Events</a></li>
    
        <li class="tier-2 element-2" role="treeitem"><a href="https://www.python.org/events/python-user-group/" title="">User Group Events</a></li>
    
        <li class="tier-2 element-3" role="treeitem"><a href="https://www.python.org/events/python-events/past/" title="">Python Events Archive</a></li>
    
        <li class="tier-2 element-4" role="treeitem"><a href="https://www.python.org/events/python-user-group/past/" title="">User Group Events Archive</a></li>
    
        <li class="tier-2 element-5" role="treeitem"><a href="https://wiki.python.org/moin/PythonEventsCalendar#Submitting_an_Event" title="">Submit an Event</a></li>
    
</ul>

        
    </li>
    
    
    
    
  
</ul>

                    
                </nav>

                <div class="header-banner "> <!-- for optional "do-not-print" class -->
                    
                    
                </div>

                
                

             </div><!-- end .container -->
        </header>

        <div id="content" class="content-wrapper">
            <!-- Main Content Column -->
            <div class="container">

                <section class="main-content with-left-sidebar" role="main">

                    
<ul class="breadcrumbs menu">
    <li>
        <a href="https://www.python.org/" title="The Python Programming Language">Python</a><span class="prompt">&gt;&gt;&gt;</span>
    </li>
    <li>
        <a href="https://www.python.org/dev/">Python Developer's Guide</a><span class="prompt">&gt;&gt;&gt;</span>
    </li>
    <li>
        <a href="../index.html">PEP Index</a><span class="prompt">&gt;&gt;&gt;</span>
    </li>
    <li>PEP 0469 -- Migration of dict iteration code to Python 3</li>
</ul>


                    
<style>
   .pep-page pre {
        padding: .5em;
        background: inherit;
        border-left: 0px;
        -webkit-box-shadow: 0 0 0 0;
        -moz-box-shadow: 0 0 0 0;
        box-shadow: 0 0 0 0;
   }
</style>

    
    <article class="text">
        

        <header class="article-header">
            <h1 class="page-title">PEP 0469 -- Migration of dict iteration code to Python 3</h1>
        </header>

        <!--
This HTML is auto-generated.  DO NOT EDIT THIS FILE!  If you are writing a new
PEP, see http://www.python.org/dev/peps/pep-0001 for instructions and links
to templates.  DO NOT USE THIS HTML FILE AS YOUR TEMPLATE!
-->
<html>
 <body>
  <table class="rfc2822 docutils field-list" frame="void" rules="none">
   <col class="field-name">
   </col>
   <col class="field-body">
   </col>
   <tbody valign="top">
    <tr class="field">
     <th class="field-name">
      PEP:
     </th>
     <td class="field-body">
      469
     </td>
    </tr>
    <tr class="field">
     <th class="field-name">
      Title:
     </th>
     <td class="field-body">
      Migration of dict iteration code to Python 3
     </td>
    </tr>
    <tr class="field">
     <th class="field-name">
      Author:
     </th>
     <td class="field-body">
      Nick Coghlan &lt;ncoghlan at gmail.com&gt;
     </td>
    </tr>
    <tr class="field">
     <th class="field-name">
      Status:
     </th>
     <td class="field-body">
      Withdrawn
     </td>
    </tr>
    <tr class="field">
     <th class="field-name">
      Type:
     </th>
     <td class="field-body">
      Standards Track
     </td>
    </tr>
    <tr class="field">
     <th class="field-name">
      Created:
     </th>
     <td class="field-body">
      2014-04-18
     </td>
    </tr>
    <tr class="field">
     <th class="field-name">
      Python-Version:
     </th>
     <td class="field-body">
      3.5
     </td>
    </tr>
    <tr class="field">
     <th class="field-name">
      Post-History:
     </th>
     <td class="field-body">
      2014-04-18, 2014-04-21
     </td>
    </tr>
   </tbody>
  </table>
  <hr/>
  <div class="contents topic" id="contents">
   <p class="topic-title first">
    Contents
   </p>
   <ul class="simple">
    <li>
     <a class="reference internal" href="#abstract" id="id2">
      Abstract
     </a>
    </li>
    <li>
     <a class="reference internal" href="#pep-withdrawal" id="id3">
      PEP Withdrawal
     </a>
    </li>
    <li>
     <a class="reference internal" href="#mapping-iteration-models" id="id4">
      Mapping iteration models
     </a>
     <ul>
      <li>
       <a class="reference internal" href="#lists-as-mutable-snapshots" id="id5">
        Lists as mutable snapshots
       </a>
      </li>
      <li>
       <a class="reference internal" href="#iterator-objects" id="id6">
        Iterator objects
       </a>
      </li>
      <li>
       <a class="reference internal" href="#set-based-dynamic-views" id="id7">
        Set based dynamic views
       </a>
      </li>
     </ul>
    </li>
    <li>
     <a class="reference internal" href="#migrating-directly-to-python-3" id="id8">
      Migrating directly to Python 3
     </a>
    </li>
    <li>
     <a class="reference internal" href="#migrating-to-the-common-subset-of-python-2-and-3" id="id9">
      Migrating to the common subset of Python 2 and 3
     </a>
    </li>
    <li>
     <a class="reference internal" href="#migrating-from-python-3-to-the-common-subset-with-python-2-7" id="id10">
      Migrating from Python 3 to the common subset with Python 2.7
     </a>
    </li>
    <li>
     <a class="reference internal" href="#possible-changes-to-python-3-5" id="id11">
      Possible changes to Python 3.5+
     </a>
    </li>
    <li>
     <a class="reference internal" href="#discussion" id="id12">
      Discussion
     </a>
    </li>
    <li>
     <a class="reference internal" href="#acknowledgements" id="id13">
      Acknowledgements
     </a>
    </li>
    <li>
     <a class="reference internal" href="#copyright" id="id14">
      Copyright
     </a>
    </li>
   </ul>
  </div>
  <div class="section" id="abstract">
   <h1>
    <a class="toc-backref" href="#id2">
     Abstract
    </a>
   </h1>
   <p>
    For Python 3,
    <a class="reference external" href="../pep-3106/index.html">
     PEP 3106
    </a>
    changed the design of the
    <tt class="docutils literal">
     dict
    </tt>
    builtin and the
mapping API in general to replace the separate list based and iterator based
APIs in Python 2 with a merged, memory efficient set and multiset view
based API. This new style of dict iteration was also added to the Python 2.7
    <tt class="docutils literal">
     dict
    </tt>
    type as a new set of iteration methods.
   </p>
   <p>
    This means that there are now 3 different kinds of dict iteration that may
need to be migrated to Python 3 when an application makes the transition:
   </p>
   <ul class="simple">
    <li>
     Lists as mutable snapshots:
     <tt class="docutils literal">
      d.items()
     </tt>
     -&gt;
     <tt class="docutils literal">
      <span class="pre">
       list(d.items())
      </span>
     </tt>
    </li>
    <li>
     Iterator objects:
     <tt class="docutils literal">
      d.iteritems()
     </tt>
     -&gt;
     <tt class="docutils literal">
      <span class="pre">
       iter(d.items())
      </span>
     </tt>
    </li>
    <li>
     Set based dynamic views:
     <tt class="docutils literal">
      d.viewitems()
     </tt>
     -&gt;
     <tt class="docutils literal">
      d.items()
     </tt>
    </li>
   </ul>
   <p>
    There is currently no widely agreed best practice on how to reliably convert
all Python 2 dict iteration code to the common subset of Python 2 and 3,
especially when test coverage of the ported code is limited. This PEP
reviews the various ways the Python 2 iteration APIs may be accessed, and
looks at the available options for migrating that code to Python 3 by way of
the common subset of Python 2.6+ and Python 3.0+.
   </p>
   <p>
    The PEP also considers the question of whether or not there are any
additions that may be worth making to Python 3.5 that may ease the
transition process for application code that doesn't need to worry about
supporting earlier versions when eventually making the leap to Python 3.
   </p>
  </div>
  <div class="section" id="pep-withdrawal">
   <h1>
    <a class="toc-backref" href="#id3">
     PEP Withdrawal
    </a>
   </h1>
   <p>
    In writing the second draft of this PEP, I came to the conclusion that
the readability of hybrid Python 2/3 mapping code can actually be best
enhanced by better helper functions rather than by making changes to
Python 3.5+. The main value I now see in this PEP is as a clear record
of the recommended approaches to migrating mapping iteration code from
Python 2 to Python 3, as well as suggesting ways to keep things readable
and maintainable when writing hybrid code that supports both versions.
   </p>
   <p>
    Notably, I recommend that hybrid code avoid calling mapping iteration
methods directly, and instead rely on builtin functions where possible,
and some additional helper functions for cases that would be a simple
combination of a builtin and a mapping method in pure Python 3 code, but
need to be handled slightly differently to get the exact same semantics in
Python 2.
   </p>
   <p>
    Static code checkers like pylint could potentially be extended with an
optional warning regarding direct use of the mapping iteration methods in
a hybrid code base.
   </p>
  </div>
  <div class="section" id="mapping-iteration-models">
   <h1>
    <a class="toc-backref" href="#id4">
     Mapping iteration models
    </a>
   </h1>
   <p>
    Python 2.7 provides three different sets of methods to extract the keys,
values and items from a
    <tt class="docutils literal">
     dict
    </tt>
    instance, accounting for 9 out of the
18 public methods of the
    <tt class="docutils literal">
     dict
    </tt>
    type.
   </p>
   <p>
    In Python 3, this has been rationalised to just 3 out of 11 public methods
(as the
    <tt class="docutils literal">
     has_key
    </tt>
    method has also been removed).
   </p>
   <div class="section" id="lists-as-mutable-snapshots">
    <h2>
     <a class="toc-backref" href="#id5">
      Lists as mutable snapshots
     </a>
    </h2>
    <p>
     This is the oldest of the three styles of dict iteration, and hence the
one implemented by the
     <tt class="docutils literal">
      d.keys()
     </tt>
     ,
     <tt class="docutils literal">
      d.values()
     </tt>
     and
     <tt class="docutils literal">
      d.items()
     </tt>
     methods in Python 2.
    </p>
    <p>
     These methods all return lists that are snapshots of the state of the
mapping at the time the method was called. This has a few consequences:
    </p>
    <ul class="simple">
     <li>
      the original object can be mutated freely without affecting iteration
over the snapshot
     </li>
     <li>
      the snapshot can be modified independently of the original object
     </li>
     <li>
      the snapshot consumes memory proportional to the size of the original
mapping
     </li>
    </ul>
    <p>
     The semantic equivalent of these operations in Python 3 are
     <tt class="docutils literal">
      <span class="pre">
       list(d.keys())
      </span>
     </tt>
     ,
     <tt class="docutils literal">
      <span class="pre">
       list(d.values())
      </span>
     </tt>
     and
     <tt class="docutils literal">
      <span class="pre">
       list(d.iteritems())
      </span>
     </tt>
     .
    </p>
   </div>
   <div class="section" id="iterator-objects">
    <h2>
     <a class="toc-backref" href="#id6">
      Iterator objects
     </a>
    </h2>
    <p>
     In Python 2.2,
     <tt class="docutils literal">
      dict
     </tt>
     objects gained support for the then-new iterator
protocol, allowing direct iteration over the keys stored in the dictionary,
thus avoiding the need to build a list just to iterate over the dictionary
contents one entry at a time.
     <tt class="docutils literal">
      iter(d)
     </tt>
     provides direct access to the
iterator object for the keys.
    </p>
    <p>
     Python 2 also provides a
     <tt class="docutils literal">
      d.iterkeys()
     </tt>
     method that is essentially
synonymous with
     <tt class="docutils literal">
      iter(d)
     </tt>
     , along with
     <tt class="docutils literal">
      d.itervalues()
     </tt>
     and
     <tt class="docutils literal">
      d.iteritems()
     </tt>
     methods.
    </p>
    <p>
     These iterators provide live views of the underlying object, and hence may
fail if the set of keys in the underlying object is changed during
iteration:
    </p>
    <pre class="literal-block">
&gt;&gt;&gt; d = dict(a=1)
&gt;&gt;&gt; for k in d:
...     del d[k]
...
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
RuntimeError: dictionary changed size during iteration
</pre>
    <p>
     As iterators, iteration over these objects is also a one-time operation:
once the iterator is exhausted, you have to go back to the original mapping
in order to iterate again.
    </p>
    <p>
     In Python 3, direct iteration over mappings works the same way as it does
in Python 2. There are no method based equivalents - the semantic equivalents
of
     <tt class="docutils literal">
      d.itervalues()
     </tt>
     and
     <tt class="docutils literal">
      d.iteritems()
     </tt>
     in Python 3 are
     <tt class="docutils literal">
      <span class="pre">
       iter(d.values())
      </span>
     </tt>
     and
     <tt class="docutils literal">
      <span class="pre">
       iter(d.iteritems())
      </span>
     </tt>
     .
    </p>
    <p>
     The
     <tt class="docutils literal">
      six
     </tt>
     and
     <tt class="docutils literal">
      future.utils
     </tt>
     compatibility modules also both provide
     <tt class="docutils literal">
      iterkeys()
     </tt>
     ,
     <tt class="docutils literal">
      itervalues()
     </tt>
     and
     <tt class="docutils literal">
      iteritems()
     </tt>
     helper functions that
provide efficient iterator semantics in both Python 2 and 3.
    </p>
   </div>
   <div class="section" id="set-based-dynamic-views">
    <h2>
     <a class="toc-backref" href="#id7">
      Set based dynamic views
     </a>
    </h2>
    <p>
     The model that is provided in Python 3 as a method based API is that of set
based dynamic views (technically multisets in the case of the
     <tt class="docutils literal">
      values()
     </tt>
     view).
    </p>
    <p>
     In Python 3, the objects returned by
     <tt class="docutils literal">
      d.keys()
     </tt>
     ,
     <tt class="docutils literal">
      d.values()
     </tt>
     and
     <tt class="docutils literal">
      d. items()
     </tt>
     provide a live view of the current state of
the underlying object, rather than taking a full snapshot of the current
state as they did in Python 2. This change is safe in many circumstances,
but does mean that, as with the direct iteration API, it is necessary to
avoid adding or removing keys during iteration, in order to avoid
encountering the following error:
    </p>
    <pre class="literal-block">
&gt;&gt;&gt; d = dict(a=1)
&gt;&gt;&gt; for k, v in d.items():
...     del d[k]
...
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
RuntimeError: dictionary changed size during iteration
</pre>
    <p>
     Unlike the iteration API, these objects are iterables, rather than iterators:
you can iterate over them multiple times, and each time they will iterate
over the entire underlying mapping.
    </p>
    <p>
     These semantics are also available in Python 2.7 as the
     <tt class="docutils literal">
      d.viewkeys()
     </tt>
     ,
     <tt class="docutils literal">
      d.viewvalues()
     </tt>
     and
     <tt class="docutils literal">
      `d.viewitems()
     </tt>
     methods.
    </p>
    <p>
     The
     <tt class="docutils literal">
      future.utils
     </tt>
     compatibility module also provides
     <tt class="docutils literal">
      viewkeys()
     </tt>
     ,
     <tt class="docutils literal">
      viewvalues()
     </tt>
     and
     <tt class="docutils literal">
      viewitems()
     </tt>
     helper functions
when running on Python 2.7 or Python 3.x.
    </p>
   </div>
  </div>
  <div class="section" id="migrating-directly-to-python-3">
   <h1>
    <a class="toc-backref" href="#id8">
     Migrating directly to Python 3
    </a>
   </h1>
   <p>
    The
    <tt class="docutils literal">
     2to3
    </tt>
    migration tool handles direct migrations to Python 3 in
accordance with the semantic equivalents described above:
   </p>
   <ul class="simple">
    <li>
     <tt class="docutils literal">
      d.keys()
     </tt>
     -&gt;
     <tt class="docutils literal">
      <span class="pre">
       list(d.keys())
      </span>
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.values()
     </tt>
     -&gt;
     <tt class="docutils literal">
      <span class="pre">
       list(d.values())
      </span>
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.items()
     </tt>
     -&gt;
     <tt class="docutils literal">
      <span class="pre">
       list(d.items())
      </span>
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.iterkeys()
     </tt>
     -&gt;
     <tt class="docutils literal">
      <span class="pre">
       iter(d.keys())
      </span>
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.itervalues()
     </tt>
     -&gt;
     <tt class="docutils literal">
      <span class="pre">
       iter(d.values())
      </span>
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.iteritems()
     </tt>
     -&gt;
     <tt class="docutils literal">
      <span class="pre">
       iter(d.items())
      </span>
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.viewkeys()
     </tt>
     -&gt;
     <tt class="docutils literal">
      d.keys()
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.viewvalues()
     </tt>
     -&gt;
     <tt class="docutils literal">
      d.values()
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.viewitems()
     </tt>
     -&gt;
     <tt class="docutils literal">
      d.items()
     </tt>
    </li>
   </ul>
   <p>
    Rather than 9 distinct mapping methods for iteration, there are now only the
3 view methods, which combine in straightforward ways with the two relevant
builtin functions to cover all of the behaviours that are available as
    <tt class="docutils literal">
     dict
    </tt>
    methods in Python 2.7.
   </p>
   <p>
    Note that in many cases
    <tt class="docutils literal">
     d.keys()
    </tt>
    can be replaced by just
    <tt class="docutils literal">
     d
    </tt>
    , but the
    <tt class="docutils literal">
     2to3
    </tt>
    migration tool doesn't attempt that replacement.
   </p>
   <p>
    The
    <tt class="docutils literal">
     2to3
    </tt>
    migration tool also
    <em>
     does not
    </em>
    provide any automatic assistance
for migrating references to these objects as bound or unbound methods - it
only automates conversions where the API is called immediately.
   </p>
  </div>
  <div class="section" id="migrating-to-the-common-subset-of-python-2-and-3">
   <h1>
    <a class="toc-backref" href="#id9">
     Migrating to the common subset of Python 2 and 3
    </a>
   </h1>
   <p>
    When migrating to the common subset of Python 2 and 3, the above
transformations are not generally appropriate, as they all either result in
the creation of a redundant list in Python 2, have unexpectedly different
semantics in at least some cases, or both.
   </p>
   <p>
    Since most code running in the common subset of Python 2 and 3 supports
at least as far back as Python 2.6, the currently recommended approach to
conversion of mapping iteration operation depends on two helper functions
for efficient iteration over mapping values and mapping item tuples:
   </p>
   <ul class="simple">
    <li>
     <tt class="docutils literal">
      d.keys()
     </tt>
     -&gt;
     <tt class="docutils literal">
      list(d)
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.values()
     </tt>
     -&gt;
     <tt class="docutils literal">
      list(itervalues(d))
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.items()
     </tt>
     -&gt;
     <tt class="docutils literal">
      list(iteritems(d))
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.iterkeys()
     </tt>
     -&gt;
     <tt class="docutils literal">
      iter(d)
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.itervalues()
     </tt>
     -&gt;
     <tt class="docutils literal">
      itervalues(d)
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.iteritems()
     </tt>
     -&gt;
     <tt class="docutils literal">
      iteritems(d)
     </tt>
    </li>
   </ul>
   <p>
    Both
    <tt class="docutils literal">
     six
    </tt>
    and
    <tt class="docutils literal">
     future.utils
    </tt>
    provide appropriate definitions of
    <tt class="docutils literal">
     itervalues()
    </tt>
    and
    <tt class="docutils literal">
     iteritems()
    </tt>
    (along with essentially redundant
definitions of
    <tt class="docutils literal">
     iterkeys()
    </tt>
    ). Creating your own definitions of these
functions in a custom compatibility module is also relatively
straightforward:
   </p>
   <pre class="literal-block">
try:
    dict.iteritems
except AttributeError:
    # Python 3
    def itervalues(d):
        return iter(d.values())
    def iteritems(d):
        return iter(d.items())
else:
    # Python 2
    def itervalues(d):
        return d.itervalues()
    def iteritems(d):
        return d.iteritems()
</pre>
   <p>
    The greatest loss of readability currently arises when converting code that
actually
    <em>
     needs
    </em>
    the list based snapshots that were the default in Python
2. This readability loss could likely be mitigated by also providing
    <tt class="docutils literal">
     listvalues
    </tt>
    and
    <tt class="docutils literal">
     listitems
    </tt>
    helper functions, allowing the affected
conversions to be simplified to:
   </p>
   <ul class="simple">
    <li>
     <tt class="docutils literal">
      d.values()
     </tt>
     -&gt;
     <tt class="docutils literal">
      listvalues(d)
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.items()
     </tt>
     -&gt;
     <tt class="docutils literal">
      listitems(d)
     </tt>
    </li>
   </ul>
   <p>
    The corresponding compatibility function definitions are as straightforward
as their iterator counterparts:
   </p>
   <pre class="literal-block">
try:
    dict.iteritems
except AttributeError:
    # Python 3
    def listvalues(d):
        return list(d.values())
    def listitems(d):
        return list(d.items())
else:
    # Python 2
    def listvalues(d):
        return d.values()
    def listitems(d):
        return d.items()
</pre>
   <p>
    With that expanded set of compatibility functions, Python 2 code would
then be converted to "idiomatic" hybrid 2/3 code as:
   </p>
   <ul class="simple">
    <li>
     <tt class="docutils literal">
      d.keys()
     </tt>
     -&gt;
     <tt class="docutils literal">
      list(d)
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.values()
     </tt>
     -&gt;
     <tt class="docutils literal">
      listvalues(d)
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.items()
     </tt>
     -&gt;
     <tt class="docutils literal">
      listitems(d)
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.iterkeys()
     </tt>
     -&gt;
     <tt class="docutils literal">
      iter(d)
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.itervalues()
     </tt>
     -&gt;
     <tt class="docutils literal">
      itervalues(d)
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.iteritems()
     </tt>
     -&gt;
     <tt class="docutils literal">
      iteritems(d)
     </tt>
    </li>
   </ul>
   <p>
    This compares well for readability with the idiomatic pure Python 3
code that uses the mapping methods and builtins directly:
   </p>
   <ul class="simple">
    <li>
     <tt class="docutils literal">
      d.keys()
     </tt>
     -&gt;
     <tt class="docutils literal">
      list(d)
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.values()
     </tt>
     -&gt;
     <tt class="docutils literal">
      <span class="pre">
       list(d.values())
      </span>
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.items()
     </tt>
     -&gt;
     <tt class="docutils literal">
      <span class="pre">
       list(d.items())
      </span>
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.iterkeys()
     </tt>
     -&gt;
     <tt class="docutils literal">
      iter(d)
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.itervalues()
     </tt>
     -&gt;
     <tt class="docutils literal">
      <span class="pre">
       iter(d.values())
      </span>
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.iteritems()
     </tt>
     -&gt;
     <tt class="docutils literal">
      <span class="pre">
       iter(d.items())
      </span>
     </tt>
    </li>
   </ul>
   <p>
    It's also notable that when using this approach, hybrid code would
    <em>
     never
    </em>
    invoke the mapping methods directly: it would always invoke either a
builtin or helper function instead, in order to ensure the exact same
semantics on both Python 2 and 3.
   </p>
  </div>
  <div class="section" id="migrating-from-python-3-to-the-common-subset-with-python-2-7">
   <h1>
    <a class="toc-backref" href="#id10">
     Migrating from Python 3 to the common subset with Python 2.7
    </a>
   </h1>
   <p>
    While the majority of migrations are currently from Python 2 either directly
to Python 3 or to the common subset of Python 2 and Python 3, there are also
some migrations of newer projects that start in Python 3 and then later
add Python 2 support, either due to user demand, or to gain access to
Python 2 libraries that are not yet available in Python 3 (and porting them
to Python 3 or creating a Python 3 compatible replacement is not a trivial
exercise).
   </p>
   <p>
    In these cases, Python 2.7 compatibility is often sufficient, and the 2.7+
only view based helper functions provided by
    <tt class="docutils literal">
     future.utils
    </tt>
    allow the bare
accesses to the Python 3 mapping view methods to be replaced with code that
is compatible with both Python 2.7 and Python 3 (note, this is the only
migration chart in the PEP that has Python 3 code on the left of the
conversion):
   </p>
   <ul class="simple">
    <li>
     <tt class="docutils literal">
      d.keys()
     </tt>
     -&gt;
     <tt class="docutils literal">
      viewkeys(d)
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.values()
     </tt>
     -&gt;
     <tt class="docutils literal">
      viewvalues(d)
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.items()
     </tt>
     -&gt;
     <tt class="docutils literal">
      viewitems(d)
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      <span class="pre">
       list(d.keys())
      </span>
     </tt>
     -&gt;
     <tt class="docutils literal">
      list(d)
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      <span class="pre">
       list(d.values())
      </span>
     </tt>
     -&gt;
     <tt class="docutils literal">
      listvalues(d)
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      <span class="pre">
       list(d.items())
      </span>
     </tt>
     -&gt;
     <tt class="docutils literal">
      listitems(d)
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      <span class="pre">
       iter(d.keys())
      </span>
     </tt>
     -&gt;
     <tt class="docutils literal">
      iter(d)
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      <span class="pre">
       iter(d.values())
      </span>
     </tt>
     -&gt;
     <tt class="docutils literal">
      itervalues(d)
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      <span class="pre">
       iter(d.items())
      </span>
     </tt>
     -&gt;
     <tt class="docutils literal">
      iteritems(d)
     </tt>
    </li>
   </ul>
   <p>
    As with migrations from Python 2 to the common subset, note that the hybrid
code ends up never invoking the mapping methods directly - it only calls
builtins and helper methods, with the latter addressing the semantic
differences between Python 2 and Python 3.
   </p>
  </div>
  <div class="section" id="possible-changes-to-python-3-5">
   <h1>
    <a class="toc-backref" href="#id11">
     Possible changes to Python 3.5+
    </a>
   </h1>
   <p>
    The main proposal put forward to potentially aid migration of existing
Python 2 code to Python 3 is the restoration of some or all of the
alternate iteration APIs to the Python 3 mapping API. In particular,
the initial draft of this PEP proposed making the following conversions
possible when migrating to the common subset of Python 2 and Python 3.5+:
   </p>
   <ul class="simple">
    <li>
     <tt class="docutils literal">
      d.keys()
     </tt>
     -&gt;
     <tt class="docutils literal">
      list(d)
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.values()
     </tt>
     -&gt;
     <tt class="docutils literal">
      <span class="pre">
       list(d.itervalues())
      </span>
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.items()
     </tt>
     -&gt;
     <tt class="docutils literal">
      <span class="pre">
       list(d.iteritems())
      </span>
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.iterkeys()
     </tt>
     -&gt;
     <tt class="docutils literal">
      d.iterkeys()
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.itervalues()
     </tt>
     -&gt;
     <tt class="docutils literal">
      d.itervalues()
     </tt>
    </li>
    <li>
     <tt class="docutils literal">
      d.iteritems()
     </tt>
     -&gt;
     <tt class="docutils literal">
      d.iteritems()
     </tt>
    </li>
   </ul>
   <p>
    Possible mitigations of the additional language complexity in Python 3
created by restoring these methods included immediately deprecating them,
as well as potentially hiding them from the
    <tt class="docutils literal">
     dir()
    </tt>
    function (or perhaps
even defining a way to make
    <tt class="docutils literal">
     pydoc
    </tt>
    aware of function deprecations).
   </p>
   <p>
    However, in the case where the list output is actually desired, the end
result of that proposal is actually less readable than an appropriately
defined helper function, and the function and method forms of the iterator
versions are pretty much equivalent from a readability perspective.
   </p>
   <p>
    So unless I've missed something critical, readily available
    <tt class="docutils literal">
     listvalues()
    </tt>
    and
    <tt class="docutils literal">
     listitems()
    </tt>
    helper functions look like they will improve the
readability of hybrid code more than anything we could add back to the
Python 3.5+ mapping API, and won't have any long term impact on the
complexity of Python 3 itself.
   </p>
  </div>
  <div class="section" id="discussion">
   <h1>
    <a class="toc-backref" href="#id12">
     Discussion
    </a>
   </h1>
   <p>
    The fact that 5 years in to the Python 3 migration we still have users
considering the dict API changes a significant barrier to migration suggests
that there are problems with previously recommended approaches. This PEP
attempts to explore those issues and tries to isolate those cases where
previous advice (such as it was) could prove problematic.
   </p>
   <p>
    My assessment (largely based on feedback from Twisted devs) is that
problems are most likely to arise when attempting to use
    <tt class="docutils literal">
     d.keys()
    </tt>
    ,
    <tt class="docutils literal">
     d.values()
    </tt>
    , and
    <tt class="docutils literal">
     d.items()
    </tt>
    in hybrid code. While superficially it
seems as though there should be cases where it is safe to ignore the
semantic differences, in practice, the change from "mutable snapshot" to
"dynamic view" is significant enough that it is likely better
to just force the use of either list or iterator semantics for hybrid code,
and leave the use of the view semantics to pure Python 3 code.
   </p>
   <p>
    This approach also creates rules that are simple enough and safe enough that
it should be possible to automate them in code modernisation scripts that
target the common subset of Python 2 and Python 3, just as
    <tt class="docutils literal">
     2to3
    </tt>
    converts
them automatically when targeting pure Python 3 code.
   </p>
  </div>
  <div class="section" id="acknowledgements">
   <h1>
    <a class="toc-backref" href="#id13">
     Acknowledgements
    </a>
   </h1>
   <p>
    Thanks to the folks at the Twisted sprint table at PyCon for a very
vigorous discussion of this idea (and several other topics), and especially
to Hynek Schlawack for acting as a moderator when things got a little too
heated :)
   </p>
   <p>
    Thanks also to JP Calderone and Itamar Turner-Trauring for their email
feedback, as well to the participants in the
    <a class="reference external" href="https://mail.python.org/pipermail/python-dev/2014-April/134168.html">
     python-dev review
    </a>
    of
the initial version of the PEP.
   </p>
  </div>
  <div class="section" id="copyright">
   <h1>
    <a class="toc-backref" href="#id14">
     Copyright
    </a>
   </h1>
   <p>
    This document has been placed in the public domain.
   </p>
   <!-- Local Variables:
mode: indented-text
indent-tabs-mode: nil
sentence-end-double-space: t
fill-column: 70
coding: utf-8
End: -->
  </div>
 </body>

<!-- Mirrored from www.python.org/dev/peps/pep-0469/ by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 03 Sep 2015 04:38:20 GMT -->
</html>Source: <a href="https://hg.python.org/peps/file/tip/pep-0469.txt">https://hg.python.org/peps/file/tip/pep-0469.txt</a>

    </article>


                </section>

                


<aside class="left-sidebar" role="secondary">

    






    





        <div class="twitter-widget sidebar-widget">
        <a class="twitter-timeline" data-dnt="true" href="https://twitter.com/ThePSF" data-widget-id="434113224703610882">Tweets by @ThePSF</a>
        <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
    </div>

    <div class="psf-sidebar-widget sidebar-widget">
        <h3 class="widget-title">The PSF</h3>
<p>The Python Software Foundation is the organization behind Python. Become a member of the PSF and help advance the software and our mission. </p>

    </div>

</aside>



                
                


            </div><!-- end .container -->
        </div><!-- end #content .content-wrapper -->

        <!-- Footer and social media list -->
        <footer id="site-map" class="main-footer" role="contentinfo">
            <div class="main-footer-links">
                <div class="container">

                    
                    <a id="back-to-top-1" class="jump-link" href="#python-network"><span aria-hidden="true" class="icon-arrow-up"><span>&#9650;</span></span> Back to Top</a>

                    

<ul class="sitemap navigation menu do-not-print" role="tree" id="container">
    
    <li class="tier-1 element-1">
        <a href="https://www.python.org/about/" >About</a>
        
            

<ul class="subnav menu">
    
        <li class="tier-2 element-1" role="treeitem"><a href="https://www.python.org/about/apps/" title="">Applications</a></li>
    
        <li class="tier-2 element-2" role="treeitem"><a href="https://www.python.org/about/quotes/" title="">Quotes</a></li>
    
        <li class="tier-2 element-3" role="treeitem"><a href="https://www.python.org/about/gettingstarted/" title="">Getting Started</a></li>
    
        <li class="tier-2 element-4" role="treeitem"><a href="https://www.python.org/about/help/" title="">Help</a></li>
    
</ul>

        
    </li>
    
    <li class="tier-1 element-2">
        <a href="https://www.python.org/downloads/" >Downloads</a>
        
            

<ul class="subnav menu">
    
        <li class="tier-2 element-1" role="treeitem"><a href="https://www.python.org/downloads/" title="">All releases</a></li>
    
        <li class="tier-2 element-2" role="treeitem"><a href="https://www.python.org/downloads/source/" title="">Source code</a></li>
    
        <li class="tier-2 element-3" role="treeitem"><a href="https://www.python.org/downloads/windows/" title="">Windows</a></li>
    
        <li class="tier-2 element-4" role="treeitem"><a href="https://www.python.org/downloads/mac-osx/" title="">Mac OS X</a></li>
    
        <li class="tier-2 element-5" role="treeitem"><a href="https://www.python.org/download/other/" title="">Other Platforms</a></li>
    
        <li class="tier-2 element-6" role="treeitem"><a href="https://docs.python.org/3/license.html" title="">License</a></li>
    
        <li class="tier-2 element-7" role="treeitem"><a href="https://www.python.org/download/alternatives" title="">Alternative Implementations</a></li>
    
</ul>

        
    </li>
    
    <li class="tier-1 element-3">
        <a href="https://www.python.org/doc/" >Documentation</a>
        
            

<ul class="subnav menu">
    
        <li class="tier-2 element-1" role="treeitem"><a href="https://www.python.org/doc/" title="">Docs</a></li>
    
        <li class="tier-2 element-2" role="treeitem"><a href="https://www.python.org/doc/av" title="">Audio/Visual Talks</a></li>
    
        <li class="tier-2 element-3" role="treeitem"><a href="https://wiki.python.org/moin/BeginnersGuide" title="">Beginner&#39;s Guide</a></li>
    
        <li class="tier-2 element-4" role="treeitem"><a href="https://docs.python.org/devguide/" title="">Developer&#39;s Guide</a></li>
    
        <li class="tier-2 element-5" role="treeitem"><a href="https://docs.python.org/faq/" title="">FAQ</a></li>
    
        <li class="tier-2 element-6" role="treeitem"><a href="http://wiki.python.org/moin/Languages" title="">Non-English Docs</a></li>
    
        <li class="tier-2 element-7" role="treeitem"><a href="../index.html" title="">PEP Index</a></li>
    
        <li class="tier-2 element-8" role="treeitem"><a href="https://wiki.python.org/moin/PythonBooks" title="">Python Books</a></li>
    
</ul>

        
    </li>
    
    <li class="tier-1 element-4">
        <a href="https://www.python.org/community/" >Community</a>
        
            

<ul class="subnav menu">
    
        <li class="tier-2 element-1" role="treeitem"><a href="https://www.python.org/community/diversity/" title="">Diversity</a></li>
    
        <li class="tier-2 element-2" role="treeitem"><a href="https://www.python.org/community/irc/" title="">IRC</a></li>
    
        <li class="tier-2 element-3" role="treeitem"><a href="https://www.python.org/community/lists/" title="">Mailing Lists</a></li>
    
        <li class="tier-2 element-4" role="treeitem"><a href="https://www.python.org/community/workshops/" title="">Python Conferences</a></li>
    
        <li class="tier-2 element-5" role="treeitem"><a href="https://www.python.org/community/sigs/" title="">Special Interest Groups</a></li>
    
        <li class="tier-2 element-6" role="treeitem"><a href="https://wiki.python.org/moin/" title="">Python Wiki</a></li>
    
        <li class="tier-2 element-7" role="treeitem"><a href="https://www.python.org/community/logos/" title="">Python Logo</a></li>
    
        <li class="tier-2 element-8" role="treeitem"><a href="https://www.python.org/community/merchandise/" title="">Merchandise</a></li>
    
        <li class="tier-2 element-9" role="treeitem"><a href="https://www.python.org/community/awards" title="">Community Awards</a></li>
    
</ul>

        
    </li>
    
    <li class="tier-1 element-5">
        <a href="https://www.python.org/about/success/" title="success-stories">Success Stories</a>
        
            

<ul class="subnav menu">
    
        <li class="tier-2 element-1" role="treeitem"><a href="https://www.python.org/about/success/#arts" title="">Arts</a></li>
    
        <li class="tier-2 element-2" role="treeitem"><a href="https://www.python.org/about/success/#business" title="">Business</a></li>
    
        <li class="tier-2 element-3" role="treeitem"><a href="https://www.python.org/about/success/#education" title="">Education</a></li>
    
        <li class="tier-2 element-4" role="treeitem"><a href="https://www.python.org/about/success/#engineering" title="">Engineering</a></li>
    
        <li class="tier-2 element-5" role="treeitem"><a href="https://www.python.org/about/success/#government" title="">Government</a></li>
    
        <li class="tier-2 element-6" role="treeitem"><a href="https://www.python.org/about/success/#scientific" title="">Scientific</a></li>
    
        <li class="tier-2 element-7" role="treeitem"><a href="https://www.python.org/about/success/#software-development" title="">Software Development</a></li>
    
</ul>

        
    </li>
    
    <li class="tier-1 element-6">
        <a href="https://www.python.org/blogs/" title="News from around the Python world">News</a>
        
            

<ul class="subnav menu">
    
        <li class="tier-2 element-1" role="treeitem"><a href="https://www.python.org/blogs/" title="Python Insider Blog Posts">Python News</a></li>
    
        <li class="tier-2 element-2" role="treeitem"><a href="http://planetpython.org/" title="Planet Python">Community News</a></li>
    
        <li class="tier-2 element-3" role="treeitem"><a href="http://pyfound.blogspot.com/" title="PSF Blog">PSF News</a></li>
    
        <li class="tier-2 element-4" role="treeitem"><a href="http://pycon.blogspot.com/" title="PyCon Blog">PyCon News</a></li>
    
</ul>

        
    </li>
    
    <li class="tier-1 element-7">
        <a href="https://www.python.org/events/" >Events</a>
        
            

<ul class="subnav menu">
    
        <li class="tier-2 element-1" role="treeitem"><a href="https://www.python.org/events/python-events/" title="">Python Events</a></li>
    
        <li class="tier-2 element-2" role="treeitem"><a href="https://www.python.org/events/python-user-group/" title="">User Group Events</a></li>
    
        <li class="tier-2 element-3" role="treeitem"><a href="https://www.python.org/events/python-events/past/" title="">Python Events Archive</a></li>
    
        <li class="tier-2 element-4" role="treeitem"><a href="https://www.python.org/events/python-user-group/past/" title="">User Group Events Archive</a></li>
    
        <li class="tier-2 element-5" role="treeitem"><a href="https://wiki.python.org/moin/PythonEventsCalendar#Submitting_an_Event" title="">Submit an Event</a></li>
    
</ul>

        
    </li>
    
    <li class="tier-1 element-8">
        <a href="https://www.python.org/dev/" >Contributing</a>
        
            

<ul class="subnav menu">
    
        <li class="tier-2 element-1" role="treeitem"><a href="http://docs.python.org/devguide/" title="">Developer&#39;s Guide</a></li>
    
        <li class="tier-2 element-2" role="treeitem"><a href="http://bugs.python.org/" title="">Issue Tracker</a></li>
    
        <li class="tier-2 element-3" role="treeitem"><a href="https://mail.python.org/mailman/listinfo/python-dev" title="">python-dev list</a></li>
    
        <li class="tier-2 element-4" role="treeitem"><a href="http://pythonmentors.com/" title="">Core Mentorship</a></li>
    
</ul>

        
    </li>
    
</ul>


                    <a id="back-to-top-2" class="jump-link" href="#python-network"><span aria-hidden="true" class="icon-arrow-up"><span>&#9650;</span></span> Back to Top</a>
                    

                </div><!-- end .container -->
            </div> <!-- end .main-footer-links -->

            <div class="site-base">
                <div class="container">
                    
                    <ul class="footer-links navigation menu do-not-print" role="tree">
                        <li class="tier-1 element-1"><a href="https://www.python.org/about/help/">Help &amp; <span class="say-no-more">General</span> Contact</a></li>
                        <li class="tier-1 element-2"><a href="https://www.python.org/community/diversity/">Diversity <span class="say-no-more">Initiatives</span></a></li>
                        <li class="tier-1 element-3"><a href="https://github.com/python/pythondotorg/issues">Submit Website Bug</a></li>
                        <!--<li class="tier-1 element-3"><a href="#"><span class="say-no-more">Website</span> Colophon</a></li>-->
                    </ul>

                    <div class="copyright">
                        <p><small>
                            <span class="pre">Copyright &copy;2001-2015.</span>
                            &nbsp;<span class="pre"><a href="https://www.python.org/psf-landing/">Python Software Foundation</a></span>
                            &nbsp;<span class="pre"><a href="https://www.python.org/about/legal/">Legal Statements</a></span>
                            &nbsp;<span class="pre"><a href="https://www.python.org/privacy/">Privacy Policy</a></span>
                        </small></p>
                    </div>

                </div><!-- end .container -->
            </div><!-- end .site-base -->

        </footer>

    </div><!-- end #touchnav-wrapper -->

    
    <script src="../../../../ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../../static/js/libs/jquery-1.8.2.min.js"><\/script>')</script>

    <script src="../../../static/js/libs/masonry.pkgd.min.js"></script>

    <script type="text/javascript" src="../../../static/js/main-min.js" charset="utf-8"></script>
    

    <!--[if lte IE 7]>
    <script type="text/javascript" src="/static/js/plugins/IE8-min.js" charset="utf-8"></script>
    
    
    <![endif]-->

    <!--[if lte IE 8]>
    <script type="text/javascript" src="/static/js/plugins/getComputedStyle-min.js" charset="utf-8"></script>
    
    
    <![endif]-->

    

    
    

</body>
</html>
